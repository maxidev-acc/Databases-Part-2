{% extends "backoffice/backoffice.html" %}





{% block content %}
{% for info in userInfo %}
<div class="card text-center">
  <div class="card-header">
    <h5 class="card-title">Welcome back, {{ info.name }} !</h5>
    <h5 class="card-title">Your current position: {{ info.role }}</h5>
  </div>

   
    <div class="card-body" style="display: block;  height: 8cm;">
  
      <div class="alert alert-danger" role="alert">
        Attention: Your insurance number serves as unique identifier and therefore cannot be changed
      </div>

  <label class="switch" > Edit
    <input id = "toggleswitch" type="checkbox" >
    <span class="slider"></span>
</label>

<script> 

    var input = document.getElementById('toggleswitch');

    input.addEventListener('change',function(){
        if(this.checked) {
            
    document.getElementById("name").disabled = false;
    document.getElementById("sex").disabled = false;
    document.getElementById("email").disabled = false;
    document.getElementById("birthdate").disabled = false;
    document.getElementById("origin").disabled = false;
    document.getElementById("mod").disabled = false;



        } else {
            
            
    document.getElementById("name").disabled = true;
    document.getElementById("sex").disabled = true;
    document.getElementById("email").disabled = true;
    document.getElementById("birthdate").disabled = true;
    document.getElementById("origin").disabled = true;
    document.getElementById("mod").disabled=true;


        }
    });

</script>















<form method="post">
 
<input id="name"  name ="firstname" class="card-text" type="text" disabled=" True" placeholder="{{ info.name }}" value="{{ info.name }}">
<input id="sex" name ="sex" class="card-text" type="text" disabled=" True" placeholder="{{ info.sex }}" value="{{ info.sex }}">
<input id="email" name = "email" class="card-text" type="text" disabled=" True" placeholder="{{ info.email }} " value="{{ info.email }}">
<input id="birthdate" name= "birthDate" class="card-text" type="text" disabled=" True" placeholder="{{ info.birthDate }}"value="{{ info.birthDate }}">
<input id="origin"  name = "origin" class="card-text" type="text" disabled=" True" placeholder="{{ info.origin }}" value="{{ info.origin }}">
<input id="svn"  name = "SVN" class="card-text" type="text" readonly="readonly" placeholder="{{ info.SVN }}" value="{{ info.SVN }}">
<button id = "mod" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" disabled>
  Save
</button>



<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Save changes?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="submit" id = "sub" class="btn btn-outline-success"  >Change info</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


</form>


{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class=flashes>
    {% for category, message in messages %}

    
    <div class="alert alert-success" role="alert"> {{ message }} </div>
      
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %} 






</div>
    <div class="card-footer text-muted">
      Bagheera Airlines. All rights reserved <img src="https://flagsapi.com/{{info.origin}}/shiny/64.png">
    </div>
    {% endfor %}

  </div>
{% endblock %}

<div id="contentUser">{% block contentUser %}{% endblock %}</div>

